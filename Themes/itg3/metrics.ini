# lol! itg3.
################################################################################
[Common]
AutoSetStyle=false
InitialScreen="ScreenCompany"

[Preferences]
PercentageScoring=true
################################################################################
# base items
[GameState]
AllowLateJoin=false

[SongManager]
NumSongGroupColors=1
SongGroupColor1=color("#FFFFFF")
NumCourseGroupColors=1
CourseGroupColor1=color("1,1,1,1") -- white

[Course]
SortLevel1Color=color("1,1,1,1")
SortLevel2Color=color("1,1,1,1")
SortLevel3Color=color("1,1,1,1")
SortLevel4Color=color("1,1,1,1")
SortLevel5Color=color("1,1,1,1")

[PlayerStageStats]
NumGradeTiersUsed=17
GradeTier01IsAllW2s=false
GradeTier02IsAllW2s=false
-- quad star
GradePercentTier01=1.00
-- triple star
GradePercentTier02=0.99
-- double star
GradePercentTier03=0.98
-- single star
GradePercentTier04=0.96
-- S+
GradePercentTier05=0.94
-- S
GradePercentTier06=0.92
-- S-
GradePercentTier07=0.89
-- A+
GradePercentTier08=0.86
-- A
GradePercentTier09=0.83
-- A-
GradePercentTier10=0.80
-- B+
GradePercentTier11=0.76
-- B
GradePercentTier12=0.72
-- B-
GradePercentTier13=0.68
-- C+
GradePercentTier14=0.64
-- C
GradePercentTier15=0.60
-- C-
GradePercentTier16=0.55
-- D
GradePercentTier17=-1000

[RollingNumbers]
# no communists
Commify=false
DiffuseLeadingZeroes=false

[RollingNumbersMaxCombo]
Fallback="RollingNumbersJudgment"
TextFormat="%06.0f"

[CodeDetector]
ModeMenu1="MenuLeft-MenuRight-Start"
ModeMenu2="Select-Start"

Mirror=
Left=
Right=
Shuffle=
SuperShuffle=
NextTransform=
NextScrollSpeed=
PreviousScrollSpeed=
NextAccel=
NextEffect=
NextAppearance=
NextTurn=
Reverse=
HoldNotes=
Mines=
Dark=
Hidden=
RandomVanish=
CancelAll=

CancelAllPlayerOptions="Left,Right,Left,Right,Left,Right"
SaveScreenshot1="MenuLeft+MenuRight"
SaveScreenshot2="Select"

################################################################################
# layers
[ScreenSystemLayer]
CreditsP1X=SCREEN_LEFT+65
CreditsP1Y=SCREEN_BOTTOM-11
CreditsP1OnCommand=shadowlength,0;halign,0;valign,1;zoom,.5
CreditsP2X=SCREEN_RIGHT-65
CreditsP2Y=SCREEN_BOTTOM-11
CreditsP2OnCommand=shadowlength,0;halign,1;valign,1;zoom,.5

[ScreenDebugOverlay]
LineSpacing=18
ButtonTextOnCommand=NoStroke;zoom,0.7
ButtonTextToggledCommand=accelerate,0.025;diffuse,color("1,0,0,1");sleep,0.5;decelerate,0.2;diffuse,color("1,0,0,0");
FunctionTextOnCommand=NoStroke;zoom,0.7
################################################################################
# classes/screen fallbacks
[ScreenWithMenuElements]
ShowHeader=true
HeaderX=
HeaderY=
HeaderOnCommand=draworder,100;addy,-100;decelerate,0.8;addy,100
HeaderOffCommand=accelerate,0.5;addy,-100

ShowFooter=true
FooterX=SCREEN_CENTER_X
FooterY=SCREEN_BOTTOM-17-14
FooterOnCommand=draworder,10
FooterOffCommand=

ShowStyleIcon=false
StyleIconX=SCREEN_RIGHT-260
StyleIconY=SCREEN_TOP+57
StyleIconOnCommand=draworder,10;addx,SCREEN_WIDTH/2;sleep,1;decelerate,0.3;addx,-SCREEN_WIDTH/2
StyleIconOffCommand=accelerate,0.3;addx,SCREEN_WIDTH/2;addy,-36.5

ShowStageDisplay=false
StageDisplayX=SCREEN_RIGHT-130
StageDisplayY=SCREEN_TOP+54
StageDisplayOnCommand=zoom,.7;horizalign,center;addx,SCREEN_WIDTH/2;sleep,1.3;decelerate,0.3;addx,-SCREEN_WIDTH/2;draworder,1
StageDisplayOffCommand=accelerate,0.3;addx,SCREEN_WIDTH/2;addy,-36.5

TimerX=SCREEN_LEFT+86
TimerY=SCREEN_TOP+35
TimerOnCommand=draworder,101;addy,-100;decelerate,0.8;addy,100
TimerOffCommand=accelerate,.7;addy,-200

ShowHelp=false
HelpX=SCREEN_CENTER_X
HelpY=SCREEN_BOTTOM-54
HelpOnCommand=draworder,10;zoom,.6;shadowlength,1.5;diffusealpha,0;sleep,1;linear,0.3;diffusealpha,1
HelpOffCommand=stoptweening;linear,0.2;diffusealpha,0

[MenuTimer]
Text1OnCommand=stoptweening;shadowlength,0;zoom,1.1;x,2;horizalign,right
Text1FormatFunction=function(fSeconds) fSeconds=math.floor(fSeconds); return string.format("%02.0f",fSeconds) end
Text2OnCommand=stoptweening;shadowlength,0;zoom,0.85;x,1;y,2;horizalign,left
Text2FormatFunction=function(fSeconds) local remainder=fSeconds-math.floor(fSeconds); local digit=math.floor(remainder*10); return "."..digit end

WarningStart=6
WarningBeepStart=6
WarningCommand6=%function(self,parent) parent:stoptweening(); parent:zoom(1.4); parent:linear(0.2); parent:zoom(1.1); self:glowshift(); self:effectperiod(0.5); self:effectcolor1(1,0,0,1); self:effectcolor2(1,0,0,0); end
WarningCommand5=%function(self,parent) parent:stoptweening(); parent:zoom(1.4); parent:linear(0.2); parent:zoom(1.1); end
WarningCommand4=%function(self,parent) parent:stoptweening(); parent:zoom(1.4); parent:linear(0.2); parent:zoom(1.1); end
WarningCommand3=%function(self,parent) parent:stoptweening(); parent:zoom(1.4); parent:linear(0.2); parent:zoom(1.1); end
WarningCommand2=%function(self,parent) parent:stoptweening(); parent:zoom(1.4); parent:linear(0.2); parent:zoom(1.1); end
WarningCommand1=%function(self,parent) parent:stoptweening(); parent:zoom(1.4); parent:linear(0.2); parent:zoom(1.1); end
WarningCommand0=%function(self,parent) parent:stoptweening(); parent:zoom(1.4); parent:stopeffect(); end

[HelpDisplay]
TipSwitchTime=3.5
TipOnCommand=shadowlength,0;diffuseshift;effectcolor1,color("#FFFFFF");effectcolor2,color("#9A9999");effectperiod,1.5

[ScreenWithMenuElementsBlank]
Fallback="ScreenWithMenuElements"
ShowHeader=false

[ScreenSelectMasterBlank]
Fallback="ScreenSelectMaster"
ShowHeader=false
ShowIcon=false
ShowScroller=false

#========#
[ScreenOptions]
PageX=SCREEN_CENTER_X
PageY=SCREEN_CENTER_Y+19

NumRowsShown=8
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	self:y(SCREEN_CENTER_Y-116+28*offsetFromCenter) \
end

ShowScrollBar=true
ScrollBarX=SCREEN_CENTER_X-285
ScrollBarY=SCREEN_CENTER_Y+2
ScrollBarHeight=230
ScrollBarTime=.2

ExplanationTogetherX=SCREEN_CENTER_X-266
ExplanationTogetherY=SCREEN_CENTER_Y+132
ExplanationTogetherOnCommand=zoom,0.5;wrapwidthpixels,1000;valign,0;halign,0;cropright,1;linear,0.5;cropright,0
ExplanationP1X=SCREEN_CENTER_X-288
ExplanationP1Y=SCREEN_CENTER_Y+134
ExplanationP1OnCommand=zoom,0.5;wrapwidthpixels,550;vertalign,top;halign,0;shadowlength,2;cropright,1;linear,0.5;cropright,0;diffuse,PlayerColor(PLAYER_1)
ExplanationP2X=SCREEN_CENTER_X+288
ExplanationP2Y=SCREEN_CENTER_Y+134
ExplanationP2OnCommand=zoom,0.5;wrapwidthpixels,550;vertalign,top;halign,1;shadowlength,2;cropright,1;linear,0.5;cropright,0;diffuse,PlayerColor(PLAYER_2)

DisqualifyP1X=SCREEN_CENTER_X-160
DisqualifyP1Y=SCREEN_CENTER_Y+111
DisqualifyP1OnCommand=zoom,0.5;glowshift;effectcolor2,color("1,.9,0.2,0.8");draworder,100;diffusealpha,0
DisqualifyP1OffCommand=
DisqualifyP2X=SCREEN_CENTER_X+160
DisqualifyP2Y=SCREEN_CENTER_Y+111
DisqualifyP2OnCommand=zoom,0.5;glowshift;effectcolor2,color(".4,1,.2,0.8");draworder,100;diffusealpha,0
DisqualifyP2OffCommand=

ShowExitRow=true
SeparateExitRowY=SCREEN_CENTER_Y+108

MoreX=SCREEN_CENTER_X
MoreY=SCREEN_CENTER_Y+112
MoreOnCommand=
MoreExitSelectedP1Command=
MoreExitSelectedP2Command=
MoreExitUnselectedP1Command=
MoreExitUnselectedP2Command=

LineHighlightP1OnCommand=ztest,true;blend,Blend.Add;diffuseshift;effectcolor1,color("#FFFFFF");effectcolor2,color("#FFFFFF77");diffusealpha,0.5
LineHighlightP1ChangeCommand=
LineHighlightP1ChangeToExitCommand=
LineHighlightP2OnCommand=ztest,true;blend,Blend.Add;diffuseshift;effectcolor1,color("#FFFFFF");effectcolor2,color("#FFFFFF77");diffusealpha,0.5
LineHighlightP2ChangeCommand=
LineHighlightP2ChangeToExitCommand=

[OptionRow]
ShowBpmInSpeedTitle=true

TitleX=SCREEN_CENTER_X-270
TitleOnCommand=shadowlength,0;zoom,.5;horizalign,left;maxwidth,180
TitleGainFocusCommand=diffuse,color("1,1,1,1");strokecolor,color("0,0,0,1")
TitleLoseFocusCommand=diffuse,color("0.5,0.5,0.5,1");strokecolor,color("0,0,0,1")

ItemsStartX=SCREEN_CENTER_X-170
ItemsEndX=SCREEN_CENTER_X+300
ItemsGapX=10
ItemsOnCommand=shadowlength,0;zoom,0.5
ItemsLongRowP1X=SCREEN_CENTER_X-60
ItemsLongRowP2X=SCREEN_CENTER_X+100
ItemsLongRowSharedX=SCREEN_CENTER_X+20

ColorSelected=color("1,1,1,1")
ColorNotSelected=color("#808080FF")
ColorDisabled=color("0.5,0.5,0.5,1")

[OptionRowExit]
ItemOnCommand=visible,false
ItemsLongRowSharedX=SCREEN_CENTER_X

[OptionsUnderline]

[OptionsUnderlineP1]
Fallback="OptionsUnderline"
LeftY=0
MiddleY=0
RightY=0

[OptionsUnderlineP2]
Fallback="OptionsUnderline"
LeftY=0
MiddleY=0
RightY=0

[ScreenOptionsMaster]
# mods are defined here
Rotation="3;selectmultiple"
RotationDefault="mod,no dizzy,no twirl, no roll"
Rotation,1="mod,dizzy;name,Dizzy"
Rotation,2="mod,twirl;name,Twirl"
Rotation,3="mod,roll;name,Roll"

Effect4="6;selectmultiple"
Effect4Default="mod,no drunk,no flip,no tornado,no tipsy,no beat,no invert"
Effect4,1="mod,drunk;name,Drunk"
Effect4,2="mod,flip;name,Flip"
Effect4,3="mod,60% tornado;name,Tornado"
Effect4,4="mod,tipsy;name,Tipsy"
Effect4,5="mod,beat;name,Beat"
Effect4,6="mod,invert;name,Invert"

MiniList="12"
MiniListDefault="mod,no mini"
MiniList,1="mod,98% mini;name,95% Mini"
MiniList,2="mod,95% mini;name,90% Mini"
MiniList,3="mod,90% mini;name,85% Mini"
MiniList,4="mod,85% mini;name,75% Mini"
MiniList,5="mod,65% mini;name,Mini"
MiniList,6="mod,35% mini;name,35% Mini"
MiniList,7="mod,no mini;name,NoMini"
MiniList,8="mod,-30% mini;name,-30% Mini"
MiniList,9="mod,-50% mini;name,-50% Mini"
MiniList,10="mod,-70% mini;name,-70% Mini"
MiniList,11="mod,-90% mini;name,-85% Mini"
MiniList,12="mod,-95% mini;name,-95% Mini"

Handicap="5;selectmultiple"
HandicapDefault="mod,no nomines,no noholds,no little,no norolls,no nohands"
Handicap,1="mod,little;name,Little"
Handicap,2="mod,nomines;name,NoMines"
Handicap,3="mod,noholds;name,NoHolds"
Handicap,4="mod,norolls;name,NoRolls"
Handicap,5="mod,nohands;name,NoHands"

Handicap2="4;selectmultiple"
Handicap2Default="mod,no nojumps,no nostretch,no noquads,normal-drain"
Handicap2,1="mod,nojumps;name,NoJumps"
Handicap2,2="mod,nostretch;name,NoStretch"
Handicap2,3="mod,noquads;name,NoQuads"
Handicap2,4="mod,norecover;name,NoRecover"

Insert="7;selectmultiple"
InsertDefault="mod,no wide,no big,no quick,no skippy,no echo,no stomp,no bmrize"
Insert,1="mod,big;name,Big"
Insert,2="mod,quick;name,Quick"
Insert,3="mod,skippy;name,Skippy"
Insert,4="mod,echo;name,Echo"
Insert,5="mod,wide;name,Wide"
Insert,6="mod,stomp;name,Stomp"
Insert,7="mod,bmrize;name,BMRize"

InsertOther="6;selectmultiple"
InsertOtherDefault="mod,no planted,no floored,no twister,no mines,no holdrolls"
InsertOther,1="mod,planted;name,Planted"
InsertOther,2="mod,floored;name,Floored"
InsertOther,3="mod,twister;name,Twister"
InsertOther,4="mod,mines;name,Mines"
InsertOther,5="mod,holdrolls;name,Rolls"
InsertOther,6="mod,25% flip,-25% invert,23% alternate,-23% split,50% reverse,0.04x,-4500% bumpy,50% boost,1000% sudden,-97.75% suddenoffset,noholds,norolls;name,D-Pad"

TimingScale="8"
TimingScaleDefault="mod,100% judgescale"
TimingScale,1="mod,50% judgescale;name,50%"
TimingScale,2="mod,60% judgescale;name,60%"
TimingScale,3="mod,70% judgescale;name,70%"
TimingScale,4="mod,80% judgescale;name,80%"
TimingScale,5="mod,90% judgescale;name,90%"
TimingScale,6="mod,100% judgescale;name,100%"
TimingScale,7="mod,125% judgescale;name,125%"
TimingScale,8="mod,150% judgescale;name,150%"

[ScreenOptionsSimpleService]
LineHighlightP1OnCommand=ztest,true;blend,Blend.Add;diffuseshift;effectcolor1,color("#FFFFFF");effectcolor2,color("#FFFFFF77");diffusealpha,0.5
LineHighlightP1ChangeCommand=
LineHighlightP1ChangeToExitCommand=
LineHighlightP2OnCommand=ztest,true;blend,Blend.Add;diffuseshift;effectcolor1,color("#FFFFFF");effectcolor2,color("#FFFFFF77");diffusealpha,0.5
LineHighlightP2ChangeCommand=
LineHighlightP2ChangeToExitCommand=

CursorOnCommand=visible,false

################################################################################
# concrete screens

################################################################################
## attract loop
[ScreenAttract]
#xxx
PrevScreen="ScreenTitleMenu"
ForceTimer=true
TimerStealth=true
PlayMusic=true

[ScreenCompany]
Class="ScreenAttract"
Fallback="ScreenAttract"
NextScreen="ScreenIntro"
TimerSeconds=6

[ScreenIntro]
Class="ScreenAttract"
Fallback="ScreenAttract"
NextScreen="ScreenLogo"
TimerSeconds=36.2

[ScreenLogo]
Fallback="ScreenAttract"
NextScreen="ScreenDemonstration"
TimerSeconds=6

[ScreenDemonstration]
NextScreen="ScreenDemonstration2"
SecondsToShow=30
ShowStageDisplay=false

[ScreenDemonstration2]
Fallback="ScreenDemonstration"
NextScreen="ScreenRanking"
AllowStyleTypes="TwoPlayersTwoSides"
DifficultiesToShow="beginner"
SecondsToShow=41
PlayerType="PlayerTraining"

StepsDisplayP1OnCommand=visible,false
StepsDisplayP2OnCommand=visible,false

[ScreenRanking]
Class="ScreenHighScores"
Fallback="ScreenAttract"
NextScreen="ScreenRanking2"
ShowHeader=true

NoScoreName="-----"

ManualScrolling=false
HighScoresType="HighScoresType_AllSteps"
NumColumns=4
ColumnDifficulty1="Difficulty_Easy"
ColumnDifficulty2="Difficulty_Medium"
ColumnDifficulty3="Difficulty_Hard"
ColumnDifficulty4="Difficulty_Challenge"
ColumnStepsType1="StepsType_Dance_Single"
ColumnStepsType2="StepsType_Dance_Single"
ColumnStepsType3="StepsType_Dance_Single"
ColumnStepsType4="StepsType_Dance_Single"

MaxItemsToShow=50

ScrollerOnCommand=CenterX;y,SCREEN_CENTER_Y+20;scrollthroughallitems
ScrollerItemTransformFunction=function(self,offset,itemIndex,numItems) self:y(65*offset) end
ScrollerItemsToDraw=7
ScrollerSecondsPerItem=0.41

[ScreenRanking2]
Fallback="ScreenRanking"
NextScreen="ScreenRanking3"
HighScoresType="HighScoresType_NonstopCourses"

MaxItemsToShow=15

NumColumns=2
ColumnDifficulty1="Difficulty_Medium"
ColumnDifficulty2="Difficulty_Hard"
ColumnStepsType1="StepsType_Dance_Single"
ColumnStepsType2="StepsType_Dance_Single"

[ScreenRanking3]
Fallback="ScreenRanking2"
NextScreen="ScreenMemoryCard"
HighScoresType="HighScoresType_SurvivalCourses"

NumColumns=1
ColumnDifficulty1="Difficulty_Medium"
ColumnStepsType1="StepsType_Dance_Single"

[ScreenMemoryCard]
Fallback="ScreenAttract"
Class="ScreenAttract"
NextScreen="ScreenOITG"
TimerSeconds=12.25

[ScreenOITG]
Fallback="ScreenAttract"
Class="ScreenAttract"
NextScreen=ScreenCleaning()
TimerSeconds=8

[ScreenNoise]
Fallback="ScreenAttract"
Class="ScreenAttract"
NextScreen="ScreenCompany
TimerSeconds=18000
MemoryCardIcons=0
MemoryCardDisplayP1OnCommand=Hidden,1
MemoryCardDisplayP2OnCommand=Hidden,1
[ScreenNoiseUntimed]
Fallback=ScreenNoise
TimerSeconds=0

################################################################################
## game stuff
[ScreenTitleMenu]
PrevScreen="ScreenCompany"
ShowHeader=false

ShowHelp=true
HelpX=SCREEN_CENTER_X
HelpY=SCREEN_BOTTOM-18
HelpOffCommand=
HelpOnCommand=draworder,10;zoom,0.6;shadowlength,0;diffuseshift;effectcolor1,color("#FFFFFF");effectcolor2,color("#9A9999");effectperiod,1.5;

ChoiceNames="01,02,03,04,05,06,07,08,09,11"
DefaultChoice="01"
Choice01="applydefaultoptions;name,Dance;text,Dance;screen,ScreenITG3"
Choice02="applydefaultoptions;name,Battle;text,Battle;playmode,rave;screen,ScreenITG3"
Choice03="applydefaultoptions;name,Marathon;text,Marathon;playmode,nonstop;screen,ScreenITG3"
Choice04="applydefaultoptions;name,Survival;text,Survival;playmode,oni;mod,lifetime;screen,ScreenITG3"
Choice05="applydefaultoptions;name,Fitness;text,Fitness;"
Choice06="screen,ScreenJukeboxMenu;text,Jukebox"
Choice07="text,Edit/Share;screen,"..Branch.OptionsEdit()
Choice08="screen,ScreenRecordsMenu;text,Records;"
Choice09="screen,ScreenOptionsService;text,Options"
Choice11="screen,ScreenExit;text,Exit"

ScrollerX=WideScale(SCREEN_RIGHT-24,SCREEN_RIGHT-40)
ScrollerY=SCREEN_CENTER_Y+10
ScrollerTransform=function(self,offset,itemIndex,numItems) self:y(20*offset); end

[ScreenTitleJoin]
Fallback="ScreenTitleMenu"
NextScreen="ScreenDemonstration"
TimerSeconds=10
TimerStealth=true
ForceTimer=true

ChoiceNames="1"
Choice1="screen,ScreenWarning"
# codes go here

[ScreenTitleAlt]
Fallback="ScreenTitleJoin"

# this is the interlude screen.
[ScreenITG3]
Class="ScreenSplash"
Fallback="ScreenWithMenuElementsBlank"
NextScreen=Branch.StartGame()
#NextScreen="ScreenSelectProfile"
PrevScreen=Branch.TitleScreen()
TimerSeconds=2
ForceTimer=true
TimerStealth=true
AllowStartToSkip=false
PrepareScreen=""

################################################################################
[ScreenWarning]
Class="ScreenSelectMaster"
Fallback="ScreenSelectMasterBlank"
PrevScreen="ScreenTitleMenu"
NextScreen="ScreenSelectPlayMode"
TimerSeconds=8
TimerStealth=true
ForceTimer=true

ChoiceNames="1"
Choice1="screen,ScreenSelectPlayMode"
DefaultChoice="1"

[ScreenSelectProfile]
NextScreen=Branch.StartGame()

################################################################################
[ScreenProfileSave]
NextScreen=Branch.PostProfileSave()
ShowHeader=false
ShowFooter=false
################################################################################
# xxx: this needs to be flipped; select playmode comes first, then style/numplayers
[ScreenSelectPlayMode]
ShowHelp=true

ChoiceNames="1,2,3,4"
Choice1="playmode,regular;screen,ScreenSelectStyle"
Choice2="playmode,rave;screen,ScreenSelectMusic"
Choice3="playmode,nonstop;screen,ScreenSelectStyle"
Choice4="playmode,oni;screen,ScreenSelectStyle;mod,lifetime"

ShowIcon=true
PerChoiceIconElement=true
UseIconMetrics=false

PerChoiceScrollElement=true
ScrollerX=SCREEN_CENTER_X-60
ScrollerY=SCREEN_CENTER_Y+70
ScrollerOnCommand=%function(self) self:z(-200); self:SetDrawByZPosition(false) end
ScrollerOffCommand=
ScrollerTransform=function(self,offset,itemIndex,numItems) local theta=offset*math.pi*2/numItems; self:y(math.sin(theta)*200); self:z(math.cos(theta)*200); self:x(self:GetZ()/2.8); local focus=scale(self:GetZ(),0,200,-1,1); focus=clamp(focus,0,1); local bright=scale(focus,0,1,0.3,1); self:diffuse(bright,bright,bright,1); local zoomv=scale(focus,0,1,0.0,1); self:zoom(zoomv); end
ScrollerNumItemsToDraw=15
ScrollerSecondsPerItem=0.01
ScrollGainFocusCommand=zoomz,1.1
ScrollLoseFocusCommand=zoomz,1

[ScreenSelectStyle]
ShowHelp=true

ChoiceNames="1,2,3"
Choice1="style,single;difficulty,medium;screen,ScreenProfileLoad"
Choice2="style,versus;difficulty,medium;screen,ScreenProfileLoad"
Choice3="style,double;difficulty,medium;screen,ScreenProfileLoad"

ShowIcon=true
PerChoiceIconElement=true
UseIconMetrics=false

PerChoiceScrollElement=true
ScrollerX=SCREEN_CENTER_X+100
ScrollerY=SCREEN_CENTER_Y+82
ScrollerOnCommand=%function(self) self:z(-200); self:SetDrawByZPosition(false) end
ScrollerOffCommand=
ScrollerTransform=function(self,offset,itemIndex,numItems) local theta=offset*math.pi*2/numItems; self:y(math.sin(theta)*150); self:z(math.cos(theta)*200); self:x(self:GetZ()/-3); local focus=scale(self:GetZ(),0,200,-1,1); focus=clamp(focus,0,1); local bright=scale(focus,0,1,0.15,1);  self:diffuse(bright,bright,bright,1); local zoomv=scale(focus,0,1,0.0,1); self:zoom(zoomv); end
ScrollerSecondsPerItem=0.01
ScrollerNumItemsToDraw=15
ScrollGainFocusCommand=zoomz,1.1
ScrollLoseFocusCommand=zoomz,1

[ScreenSelectNumPlayers]
Fallback="ScreenSelectStyle"
ChoiceNames="1,2"
OptionOrderUp="2:1"
OptionOrderDown="1:2"
OptionOrderLeft="2:1"
OptionOrderRight="1:2"
OptionOrderAuto="1:2,2:1"

[ScreenProfileLoad]
ShowHeader=false
ShowFooter=false
NextScreen=Branch.AfterSelectStyle()

################################################################################
[ScreenSelectMusic]
WaitForChildrenBeforeTweeningOut=true
ShowStyleIcon=true
ShowStageDisplay=true
ShowHelp=true
HelpText=%GetScreenSelectMusicHelpText()
HelpOnCommand=draworder,200;zoom,.6;shadowlength,1.5;diffusealpha,0;diffuseshift;effectcolor1,color("#FFFFFF");effectcolor2,color("#9A9999");effectperiod,1.5;sleep,1;linear,0.3;diffusealpha,1
HelpSelectMenuOpenedMessageCommand=linear,0.125;zoomx,0
HelpSelectMenuClosedMessageCommand=stoptweening;linear,0.125;zoomx,0.6

UseOptionsList=false
UsePlayerSelectMenu=false
SelectMenuAvailable=DifficultyChangingAvailable() and ModeMenuAvailable()
ModeMenuAvailable=ModeMenuAvailable()
SelectMenuChangesDifficulty=true

MusicWheelX=SCREEN_CENTER_X-210
MusicWheelY=SCREEN_CENTER_Y-10
MusicWheelOnCommand=sleep,0.5;addx,20;ztest,true;z,0;draworder,90
MusicWheelOffCommand=accelerate,0.75;addx,-SCREEN_WIDTH

BannerX=SCREEN_CENTER_X+140
BannerY=SCREEN_CENTER_Y-91
BannerOnCommand=draworder,-1;scaletoclipped,320,120;addx,SCREEN_WIDTH;decelerate,0.75;addx,-SCREEN_WIDTH;zwrite,true;ztest,true;
BannerOffCommand=accelerate,0.75;addx,SCREEN_WIDTH

BannerReflectionX=SCREEN_CENTER_X+140
BannerReflectionY=SCREEN_CENTER_Y+26
BannerReflectionOnCommand=addx,SCREEN_WIDTH;decelerate,0.75;addx,-SCREEN_WIDTH
BannerReflectionOffCommand=accelerate,0.75;addx,SCREEN_WIDTH

ArtistDisplayX=SCREEN_CENTER_X-14
ArtistDisplayY=SCREEN_CENTER_Y-6
ArtistDisplayOnCommand=addx,SCREEN_WIDTH;decelerate,0.75;addx,-SCREEN_WIDTH
ArtistDisplayOffCommand=accelerate,0.75;addx,SCREEN_WIDTH

BPMDisplayX=SCREEN_CENTER_X+295
BPMDisplayY=SCREEN_CENTER_Y-6
BPMDisplayOnCommand=addx,SCREEN_WIDTH;decelerate,0.75;addx,-SCREEN_WIDTH;
BPMDisplayOffCommand=accelerate,0.75;addx,SCREEN_WIDTH

ShowStepsDisplayList=not GAMESTATE:IsCourseMode()
StepsDisplayListX=SCREEN_CENTER_X+132
StepsDisplayListY=SCREEN_CENTER_Y+24
StepsDisplayListOnCommand=zoom,0.94;addx,SCREEN_WIDTH;decelerate,0.75;addx,-SCREEN_WIDTH;
StepsDisplayListOffCommand=accelerate,0.75;addx,SCREEN_WIDTH
StepsDisplayListShowCommand=
StepsDisplayListHideCommand=

ShowCourseContentsList=GAMESTATE:IsCourseMode()
CourseContentsListX=SCREEN_CENTER_X+114
CourseContentsListY=SCREEN_CENTER_Y+24
CourseContentsListOnCommand=shadowlength,0;zoom,0.5;addx,SCREEN_WIDTH;decelerate,0.75;addx,-SCREEN_WIDTH
CourseContentsListOffCommand=accelerate,0.75;addx,SCREEN_WIDTH

TriangleX=SCREEN_CENTER_X-60
TriangleY=SCREEN_CENTER_Y-10

StepsDisplayP1X=SCREEN_CENTER_X-66
StepsDisplayP1Y=SCREEN_BOTTOM-93
StepsDisplayP1OnCommand=draworder,101;shadowlength,0;zoom,0;sleep,0.55;bounceend,0.3;zoom,.8
StepsDisplayP1OffCommand=bouncebegin,0.2;zoom,0
StepsDisplayP2X=SCREEN_CENTER_X+66
StepsDisplayP2Y=SCREEN_BOTTOM-93
StepsDisplayP2OnCommand=draworder,101;shadowlength,0;zoom,0;sleep,0.55;bounceend,0.3;zoom,.8
StepsDisplayP2OffCommand=bouncebegin,0.2;zoom,0

SongOptionsX=SCREEN_CENTER_X
SongOptionsY=SCREEN_BOTTOM-32
SongOptionsOnCommand=visible,false;zoom,0.5;shadowlength,2;diffuse,1,1,1,0;linear,0.5;diffuse,1,1,1,1
SongOptionsOffCommand=linear,0.5;diffuse,1,1,1,0

[MusicWheel]
NumWheelItems=14
ShowRandom=true
ShowPortal=true
ShowRoulette=false

ItemTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	self:x( (1-math.cos(offsetFromCenter/math.pi))*65 ); \
	self:y( offsetFromCenter*40 ); \
end

HighlightOnCommand=blend,Blend.Add;diffuseshift;effectcolor1,color("#FFFFFFFF");effectcolor2,color("#000000");effectoffset,0;effectclock,'beat'

ScrollBarHeight=300
ScrollBarOnCommand=visible,false

RandomColor=color("#FFDD00")
PortalColor=color("#FFDD00")

ModeMenuChoiceNames="Group,Title,Bpm,Length,Popularity,TopGrades,Artist,EasyMeter,MediumMeter,HardMeter,ChallengeMeter,Dance,Battle"

ChoiceDance="playmode,regular"
ChoiceBattle="playmode,battle"

[MusicWheelItem]
SongNameX=104
SongNameY=0
SongNameOnCommand=

WheelNotifyIconX=0
WheelNotifyIconOnCommand=

SectionExpandedX=72
SectionExpandedY=0
SectionExpandedOnCommand=shadowlength,2.5;zoom,.6;halign,1;shadowlength,2;maxwidth,WideScale(SCREEN_WIDTH/2.1,SCREEN_WIDTH/1.85)
SectionCollapsedX=72
SectionCollapsedY=0
SectionCollapsedOnCommand=shadowlength,2.5;zoom,.6;halign,1;shadowlength,2;maxwidth,WideScale(SCREEN_WIDTH/2.1,SCREEN_WIDTH/1.85)

SectionCountX=97
SectionCountY=0
SectionCountOnCommand=shadowlength,2.5;zoom,.4;halign,1;shadowlength,2;diffuse,color("#00FFFF");

CourseX=96
CourseY=0
CourseOnCommand=zoom,.6;halign,1;shadowlength,2

RandomX=110
RandomOnCommand=zoom,.6;halign,1;shadowlength,1;
PortalX=110
PortalOnCommand=zoom,.6;halign,1;shadowlength,1;

SortX=96
SortY=0
SortOnCommand=shadowlength,2.5;zoom,.6;halign,1;shadowlength,2;maxwidth,SCREEN_WIDTH/1.85

ModeX=96
ModeY=0
ModeOnCommand=shadowlength,2.5;zoom,.6;halign,1;shadowlength,2;maxwidth,SCREEN_WIDTH/1.85

[TextBanner]
TitleX=104
TitleOnCommand=zoom,.5;shadowlength,2;halign,1;valign,0.5;maxwidth,SCREEN_WIDTH/1.45
SubtitleX=104
SubtitleOnCommand=zoom,0.35;shadowlength,2;halign,1;valign,0.5

[CourseTextBanner]
Fallback="TextBanner"
TitleOnCommand=x,-130;shadowlength,0;horizalign,left;maxwidth,410;
SubtitleOnCommand=x,-130;y,12;zoom,0.5;shadowlength,0;horizalign,left
ArtistOnCommand=visible,false
AfterSetCommand=%CourseTextBannerAfterSet

[BPMDisplay]
Cycle=false
NoBpmText="..."
RandomText="..."
VariousText="Various"

SetNoBpmCommand=stoptweening;stopeffect;diffuse,color("#FFFFFFFF");maxwidth,120
SetNormalCommand=stoptweening;stopeffect;diffuse,color("#FFFFFFFF");maxwidth,120
SetChangeCommand=stoptweening;stopeffect;diffuse,color("#d8f6ffFF");maxwidth,120
SetRandomCommand=stoptweening;stopeffect;diffuse,color("#FFFFFFFF");maxwidth,120
SetExtraCommand=stoptweening;stopeffect;diffuse,color("#FFFFFFFF");maxwidth,120

[StepsDisplay]
ShowMeter=true
MeterX=0
MeterY=0
MeterSetCommand=%function(self,param) \
	if param.CustomDifficulty then \
		self:diffuse(CustomDifficultyToColor(param.CustomDifficulty)) \
		self:diffusetopedge(ContrastingDifficultyColor(param.CustomDifficulty)) \
	end \
end

ShowTicks=false
ShowDescription=false

[StepsDisplayList]
ItemsSpacingY=18.5
NumShownItems=5
CapitalizeDifficultyNames=true
MoveCommand=finishtweening;linear,.3

[StepsDisplayListRow]
ShowDescription=true
DescriptionX=-44
DescriptionY=0
DescriptionOnCommand=halign,1;zoom,.5;shadowlength,2;maxwidth,112
DescriptionSetCommand=%function(self,param) \
	if param.CustomDifficulty then \
		self:diffuse(CustomDifficultyToColor(param.CustomDifficulty)) \
		self:uppercase( param.CustomDifficulty ~= "Edit" ) \
	end \
	if param.Steps and param.Steps:IsAnEdit() and param.Steps:GetDescription() == "" then \
		self:settext("Untitled") \
	end \
end

ShowTicks=true
NumTicks=12
MaxTicks=12
TicksX=-41
TicksY=1
TicksOnCommand=halign,0;shadowlength,1;
TicksSetCommand=%function(self,param) \
	if param.CustomDifficulty then \
		self:diffuse(CustomDifficultyToColor(param.CustomDifficulty)) \
	end \
end

ShowMeter=true
MeterX=135
MeterY=0
MeterOnCommand=zoom,.5;shadowlength,2
MeterSetCommand=%function(self,param) if param.CustomDifficulty then self:diffuse(CustomDifficultyToColor(param.CustomDifficulty)) end end

#===============================#
[ScreenSelectCourse]
Fallback="ScreenSelectMusic"
ShowStageDisplay=true

################################################################################
[ScreenPlayerOptions]
NextScreen="ScreenStageInformation"
ShowStyleIcon=true
ShowStageDisplay=true
ShowHelp=true

#Speed,Persp,NoteSkins,Scroll,Accel,Effect,Effect2,Effect3,Appearance,Handicap,
#Handicap2,Turn,InsertTaps,InserOther,Hide,Steps,Rotation,Effect4,
#TournamentOptions,ShowStats,ShowModifiers,Orientation,Playfield,Rate,ScreenFilter,
#ScoreDisplay,TimingScale

LineNames=SongMods()

Line2="list,Persp"
Line3="list,NoteSkins"
Line4="list,Scroll"
Line5="list,Accel"
#Line6="list,Effect"
Line7="list,MiniList"
#Line8="list,Effect3"
Line9="list,Appearance"
Line10="list,Handicap"
Line11="list,Handicap2"
Line12="list,Turn"
Line13="list,Insert"
Line14="list,InsertOther"
Line15="list,Hide"
Line16="list,Steps"
# new stuff!
Line17="list,Rotation"
Line18="list,Effect4"
Line19="lua,OptionTournamentOptions()"
Line20="lua,OptionShowStats()"
#Line21="lua,OptionShowModifiers()"
Line22="lua,OptionOrientation()"
Line23="lua,OptionPlayfield()"
Line24="list,Rate"
Line25="lua,OptionRowScreenFilter()"

#Line26="list,ScoreDisplay" -- never used! removed in sm5
#Line27="list,TimingScale" -- openitg specific thing!

[ScreenPlayerOptionsRestricted]
LineNames="1,2,3,4,5"
# speed, persp, noteskins, scroll, steps
Line5="list,StepsLocked"

################################################################################
[ScreenStageInformation]
TimerSeconds=3
TimerStealth=true
ShowHeader=false
ShowFooter=false
################################################################################
[ScreenGameplay]
ShowHeader=false
ShowFooter=false

LifeP1X=(SCREEN_LEFT+20)+GetLifebarAdjustment()
LifeP1Y=OffsetLifebarHeight(PLAYER_1)
LifeP1OnCommand=visible,not getenv("HideLifeP1");rotationz,-90;addx,-100;sleep,0.5;decelerate,0.8;addx,100;draworder,-1;
#LifeP1OffCommand=%function(self) if AnyPlayerFullComboed() then self:sleep(3); end
LifeP1OffCommand=accelerate,0.4;addx,-100

LifeP2X=(SCREEN_RIGHT-20)-GetLifebarAdjustment()
LifeP2Y=OffsetLifebarHeight(PLAYER_2)
LifeP2OnCommand=visible,not getenv("HideLifeP2");rotationz,90;zoomx,-1;addx,100;sleep,0.5;decelerate,0.8;addx,-100;draworder,-1;
#LifeP2OffCommand=%function(self) if AnyPlayerFullComboed() then self:sleep(3); end
LifeP2OffCommand=accelerate,0.4;addx,100

ScoreP1X=math.floor(scale(0.25,0,1,SCREEN_LEFT,SCREEN_RIGHT))-18
ScoreP1Y=SCREEN_TOP+61
ScoreP1OnCommand=visible,not getenv("HideScoreP1");diffuse,PlayerColor(PLAYER_1);addy,-100;sleep,0.5;decelerate,0.8;addy,100;
#ScoreP1OnCommand=@"shadowlength,0;addy,-100;" .. DoublesScoreCenterP1() .."sleep,0.5;decelerate,0.8;addy,100;"
#ScoreP1OffCommand=%function(self) if AnyPlayerFullComboed() then self:sleep(3); end self:accelerate(0.8); self:addy(-100); end
ScoreP1OffCommand=accelerate,0.8;addy,-100

ScoreP2X=math.floor(scale(0.75,0,1,SCREEN_LEFT,SCREEN_RIGHT))+20
ScoreP2Y=SCREEN_TOP+61
ScoreP2OnCommand=visible,not getenv("HideScoreP2");diffuse,PlayerColor(PLAYER_2);addy,-100;sleep,0.5;decelerate,0.8;addy,100;
#ScoreP2OnCommand=@"shadowlength,0;addy,-100;" .. DoublesScoreCenterP2() .."sleep,0.5;decelerate,0.8;addy,100;"
#ScoreP2OffCommand=%function(self) if AnyPlayerFullComboed() then self:sleep(3); end self:accelerate(0.8); self:addy(-100); end
ScoreP2OffCommand=accelerate,0.8;addy,-100

StepsDisplayP1X=SCREEN_CENTER_X-240
StepsDisplayP1Y=SCREEN_TOP+28
StepsDisplayP1OnCommand=draworder,100;addx,-SCREEN_WIDTH/3;sleep,2;decelerate,0.5;addx,SCREEN_WIDTH/3;visible,GetSongFrame() ~= "_extreme"
StepsDisplayP1OffCommand=accelerate,0.8;addx,-SCREEN_WIDTH/3

StepsDisplayP2X=SCREEN_CENTER_X+240
StepsDisplayP2Y=SCREEN_TOP+28
StepsDisplayP2OnCommand=draworder,100;addx,SCREEN_WIDTH/3;sleep,2;decelerate,0.5;addx,-SCREEN_WIDTH/3;visible,GetSongFrame() ~= "_extreme"
StepsDisplayP2OffCommand=accelerate,0.8;addx,SCREEN_WIDTH/3

ShowStageDisplay=true
StageDisplayX=SCREEN_CENTER_X
StageDisplayY=SCREEN_CENTER_Y+60
StageDisplayOnCommand=draworder,105;zoom,1;sleep,1.2;linear,0.3;zoom,0.5;y,SCREEN_BOTTOM-40
StageDisplayOffCommand=accelerate,0.8;addy,150

SecondaryScoreP1X=SCREEN_CENTER_X-14
SecondaryScoreP1Y=SCREEN_CENTER_Y+32
SecondaryScoreP2X=SCREEN_CENTER_X+14
SecondaryScoreP2Y=SCREEN_CENTER_Y+32

CombinedLifeX=SCREEN_CENTER_X
CombinedLifeY=SCREEN_TOP+60
CombinedLifeOnCommand=addy,-100;sleep,0.5;decelerate,0.8;addy,+100
CombinedLifeOffCommand=accelerate,0.8;addy,-100

[Player]
ReceptorArrowsYStandard=-125
ReceptorArrowsYReverse=145

HoldJudgmentYStandard=-90

[PlayerTraining]
Fallback="Player"
ComboOnCommand=visible,false

[HoldJudgment]
# todo: rotation
HoldJudgmentLetGoCommand=diffuse,color("1,1,1,1");zoom,1.25;linear,0.3;zoomx,1;zoomy,1;sleep,0.5;accelerate,0.1;diffuse,color("1,1,1,0");zoomx,2;zoomy,0
HoldJudgmentHeldCommand=diffuse,color("1,1,1,1");zoom,1.25;linear,0.3;zoomx,1;zoomy,1;sleep,0.5;accelerate,0.1;diffuse,color("1,1,1,0");zoomx,2;zoomy,0

[StepsDisplayGameplay]
Fallback="StepsDisplay"

ShowDescription=true
DescriptionOnCommand=zoom,0.5;shadowlength,2;
DescriptionSetCommand=%function(self,param) \
	if param.CustomDifficulty then \
		self:diffuse(ContrastingDifficultyColor(param.CustomDifficulty));\
	end \
end;

ShowMeter=true
MeterX=30
MeterY=0
MeterOnCommand=zoom,0.5;shadowlength,2;
MeterSetCommand=%function(self,param) \
	if param.CustomDifficulty then \
		self:diffuse(ContrastingDifficultyColor(param.CustomDifficulty));\
	end \
end;

[StepsDisplayGameplay P1]
Fallback="StepsDisplayGameplay"
DescriptionX=-14
MeterX=30

[StepsDisplayGameplay P2]
Fallback="StepsDisplayGameplay"
DescriptionX=14
MeterX=-30

[LifeMeterBar]
DangerThreshold=0.3

[StreamDisplay]
NumPills=1
TextureCoordScaleX=1
PillTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	local native_width=272; \
	local zoomed_width=18; \
	self:zoomtowidth(native_width); \
	self:x(itemIndex*zoomed_width); \
end

[Judgment]
JudgmentW1Command=diffusealpha,1;zoomx,1.3;zoomy,1.7;glowshift;effectperiod,0.05;effectcolor1,color("1,1,1,0");effectcolor2,color("1,1,1,0.5");decelerate,0.1;zoom,1;sleep,.4;accelerate,0.1;diffusealpha,0;zoomx,1.5;zoomy,0
JudgmentW2Command=diffusealpha,1;zoomx,1.3;zoomy,1.7;decelerate,0.1;zoom,1;sleep,.4;accelerate,0.1;diffusealpha,0;zoomx,1.5;zoomy,0
JudgmentW3Command=diffusealpha,1;zoomx,1.3;zoomy,1.7;decelerate,0.1;zoom,1;sleep,.4;accelerate,0.1;diffusealpha,0;zoomx,1.5;zoomy,0
JudgmentW4Command=diffusealpha,1;zoomx,1.3;zoomy,1.7;decelerate,0.1;zoom,1;sleep,.4;accelerate,0.1;zoom,0
JudgmentW5Command=diffusealpha,1;zoomx,1.3;zoomy,1.7;decelerate,0.1;zoom,1;sleep,.4;accelerate,0.1;zoom,0
JudgmentMissCommand=diffusealpha,1;zoomx,1.3;zoomy,1.7;decelerate,0.1;zoom,1;sleep,.4;accelerate,0.1;zoom,0

[Combo]
ShowComboAt=4

NumberMinZoom=0.9
NumberMaxZoom=1.4
NumberMaxZoomAt=500
NumberOnCommand=y,20;shadowlength,0;horizalign,center;vertalign,bottom

LabelOnCommand=y,14;shadowlength,0;horizalign,center;vertalign,top

FullComboW1Command=diffuseshift;effectcolor1,color("#FFFFFF");effectcolor2,color("#94EBFE");effectperiod,0.5
FullComboW2Command=diffuseshift;effectcolor1,color("#FFFFFF");effectcolor2,color("#FDD599");effectperiod,0.5
FullComboW3Command=diffuseshift;effectcolor1,color("#FFFFFF");effectcolor2,color("#4dfc8f");effectperiod,0.5
FullComboBrokenCommand=stopeffect
MissComboCommand=stopeffect;diffuseshift;effectcolor1,color("#FF2020");effectcolor2,color("#FF2020");effectperiod,0.5

[ScoreDisplayRave]
MeterP1Y=1
MeterP1OnCommand=rotationz,-90;glowshift;effectcolor2,color("1,1,1,0.5")
MeterP2Y=1
MeterP2OnCommand=rotationz,-90;glowshift;effectcolor2,color("1,1,1,0.5")

LevelP1Y=-140
LevelP1OnCommand=diffuse,PlayerColor(PLAYER_1)
LevelP2Y=-140
LevelP2OnCommand=diffuse,PlayerColor(PLAYER_1)

################################################################################
[ScreenEvaluation]
ShowHeader=true
ShowStyleIcon=true
ShowStageDisplay=true

ShowHelp=true
HelpOnCommand=draworder,200;zoom,.6;shadowlength,1.5;diffusealpha,0;diffuseshift;effectcolor1,color("#FFFFFF");effectcolor2,color("#9A9999");effectperiod,1.5;sleep,3;linear,0.3;diffusealpha,1

BannerWidth=176
BannerHeight=70
LargeBannerX=SCREEN_CENTER_X
LargeBannerY=SCREEN_CENTER_Y+135
LargeBannerOffCommand=stoptweening;linear,0.2;diffusealpha,0
LargeBannerOnCommand=ztest,true;cropright,1.3;faderight,0.1;sleep,3;linear,0.7;cropright,-0.3
LargeBannerFrameX=SCREEN_CENTER_X
LargeBannerFrameY=SCREEN_CENTER_Y+135
LargeBannerFrameOnCommand=diffusealpha,0;sleep,3;linear,0.5;diffusealpha,1
LargeBannerFrameOffCommand=stoptweening;linear,0.2;diffusealpha,0

ShowGradeArea=true
GradeFrameP1X=SCREEN_CENTER_X-145
GradeFrameP1Y=SCREEN_CENTER_Y+54
GradeFrameP1OffCommand=
GradeFrameP1OnCommand=draworder,3
#--#
GradeFrameP2X=SCREEN_CENTER_X+145
GradeFrameP2Y=SCREEN_CENTER_Y+54
GradeFrameP2OffCommand=
GradeFrameP2OnCommand=draworder,3
#----#
GradeP1X=SCREEN_CENTER_X-160+EvalX()
GradeP1Y=SCREEN_CENTER_Y-60
GradeP1OffCommand=accelerate,0.3;addx,-EvalTweenDistance()
GradeP1OnCommand=draworder,101;zoom,0;diffusealpha,0;sleep,.5;bounceend,.4;zoom,1.8;diffusealpha,1;sleep,2;decelerate,0.5;zoom,1;x,SCREEN_CENTER_X-56+EvalX();y,SCREEN_CENTER_Y+48
GradeP2X=SCREEN_CENTER_X+160+EvalX()
GradeP2Y=SCREEN_CENTER_Y-60
GradeP2OffCommand=accelerate,0.3;addx,EvalTweenDistance()
GradeP2OnCommand=draworder,101;zoom,0;diffusealpha,0;sleep,.5;bounceend,.4;zoom,1.8;diffusealpha,1;sleep,2;decelerate,0.5;zoom,1;x,SCREEN_CENTER_X+56+EvalX();y,SCREEN_CENTER_Y+48

ShowJudgmentLineW1=true
ShowJudgmentLineW2=true
ShowJudgmentLineW3=true
ShowJudgmentLineW4=true
ShowJudgmentLineW5=true
ShowJudgmentLineMiss=true
ShowJudgmentLineMaxCombo=true

W1NumberP1X=SCREEN_CENTER_X-150
W1NumberP1Y=SCREEN_CENTER_Y-141
W1NumberP1OnCommand=draworder,4;zoom,0.6;diffuse,PlayerColor(PLAYER_1);diffusealpha,0;zoom,0.7;sleep,3.60;linear,0.4;zoom,0.6;diffusealpha,1
W1NumberP1OffCommand=finishtweening;linear,0.2;diffusealpha,0
#--#
W1NumberP2X=SCREEN_CENTER_X+149
W1NumberP2Y=SCREEN_CENTER_Y-141
W1NumberP2OnCommand=draworder,4;zoom,0.6;diffuse,PlayerColor(PLAYER_2);diffusealpha,0;zoom,0.7;sleep,3.60;linear,0.4;zoom,0.6;diffusealpha,1
W1NumberP2OffCommand=finishtweening;linear,0.2;diffusealpha,0

W2NumberP1X=SCREEN_CENTER_X-156
W2NumberP1Y=SCREEN_CENTER_Y-116
W2NumberP1OnCommand=draworder,4;zoom,0.6;diffuse,PlayerColor(PLAYER_1);diffusealpha,0;zoom,0.7;sleep,3.60;linear,0.4;zoom,0.6;diffusealpha,1
W2NumberP1OffCommand=finishtweening;linear,0.2;diffusealpha,0
#--#
W2NumberP2X=SCREEN_CENTER_X+155
W2NumberP2Y=SCREEN_CENTER_Y-116
W2NumberP2OnCommand=draworder,4;zoom,0.6;diffuse,PlayerColor(PLAYER_2);diffusealpha,0;zoom,0.7;sleep,3.60;linear,0.4;zoom,0.6;diffusealpha,1
W2NumberP2OffCommand=finishtweening;linear,0.2;diffusealpha,0

W3NumberP1X=SCREEN_CENTER_X-162
W3NumberP1Y=SCREEN_CENTER_Y-91
W3NumberP1OnCommand=draworder,4;zoom,0.6;diffuse,PlayerColor(PLAYER_1);diffusealpha,0;zoom,0.7;sleep,3.60;linear,0.4;zoom,0.6;diffusealpha,1
W3NumberP1OffCommand=finishtweening;linear,0.2;diffusealpha,0
#--#
W3NumberP2X=SCREEN_CENTER_X+161
W3NumberP2Y=SCREEN_CENTER_Y-91
W3NumberP2OnCommand=draworder,4;zoom,0.6;diffuse,PlayerColor(PLAYER_2);diffusealpha,0;zoom,0.7;sleep,3.60;linear,0.4;zoom,0.6;diffusealpha,1
W3NumberP2OffCommand=finishtweening;linear,0.2;diffusealpha,0

W4NumberP1X=SCREEN_CENTER_X-168
W4NumberP1Y=SCREEN_CENTER_Y-66
W4NumberP1OnCommand=draworder,4;zoom,0.6;diffuse,PlayerColor(PLAYER_1);diffusealpha,0;zoom,0.7;sleep,3.60;linear,0.4;zoom,0.6;diffusealpha,1
W4NumberP1OffCommand=finishtweening;linear,0.2;diffusealpha,0
#--#
W4NumberP2X=SCREEN_CENTER_X+167
W4NumberP2Y=SCREEN_CENTER_Y-66
W4NumberP2OnCommand=draworder,4;zoom,0.6;diffuse,PlayerColor(PLAYER_2);diffusealpha,0;zoom,0.7;sleep,3.60;linear,0.4;zoom,0.6;diffusealpha,1
W4NumberP2OffCommand=finishtweening;linear,0.2;diffusealpha,0

W5NumberP1X=SCREEN_CENTER_X-174
W5NumberP1Y=SCREEN_CENTER_Y-41
W5NumberP1OnCommand=draworder,4;zoom,0.6;diffuse,PlayerColor(PLAYER_1);diffusealpha,0;zoom,0.7;sleep,3.60;linear,0.4;zoom,0.6;diffusealpha,1
W5NumberP1OffCommand=finishtweening;linear,0.2;diffusealpha,0
#--#
W5NumberP2X=SCREEN_CENTER_X+173
W5NumberP2Y=SCREEN_CENTER_Y-41
W5NumberP2OnCommand=draworder,4;zoom,0.6;diffuse,PlayerColor(PLAYER_2);diffusealpha,0;zoom,0.7;sleep,3.60;linear,0.4;zoom,0.6;diffusealpha,1
W5NumberP2OffCommand=finishtweening;linear,0.2;diffusealpha,0

MissNumberP1X=SCREEN_CENTER_X-180
MissNumberP1Y=SCREEN_CENTER_Y-16
MissNumberP1OnCommand=draworder,4;zoom,0.6;diffuse,PlayerColor(PLAYER_1);diffusealpha,0;zoom,0.7;sleep,3.60;linear,0.4;zoom,0.6;diffusealpha,1
MissNumberP1OffCommand=finishtweening;linear,0.2;diffusealpha,0
#--#
MissNumberP2X=SCREEN_CENTER_X+179
MissNumberP2Y=SCREEN_CENTER_Y-16
MissNumberP2OnCommand=draworder,4;zoom,0.6;diffuse,PlayerColor(PLAYER_2);diffusealpha,0;zoom,0.7;sleep,3.60;linear,0.4;zoom,0.6;diffusealpha,1
MissNumberP2OffCommand=finishtweening;linear,0.2;diffusealpha,0

MaxComboNumberP1X=SCREEN_CENTER_X-56
MaxComboNumberP1Y=SCREEN_CENTER_Y-142+13*5
MaxComboNumberP1OnCommand=zoomx,0.45;zoomy,0.4;diffuse,PlayerColor(PLAYER_1);shadowlength,0;halign,1;diffusealpha,0;sleep,4;linear,0.8;diffusealpha,1
MaxComboNumberP1OffCommand=finishtweening;linear,0.2;diffusealpha,0
#--#
MaxComboNumberP2X=SCREEN_CENTER_X+113
MaxComboNumberP2Y=SCREEN_CENTER_Y-142+13*5
MaxComboNumberP2OnCommand=zoomx,0.45;zoomy,0.4;diffuse,PlayerColor(PLAYER_2);shadowlength,0;halign,1;diffusealpha,0;sleep,4;linear,0.8;diffusealpha,1
MaxComboNumberP2OffCommand=finishtweening;linear,0.2;diffusealpha,0

ShowDetailArea=true
DetailFrameP1X=
DetailFrameP1Y=
DetailFrameP1OnCommand=
DetailFrameP2X=
DetailFrameP2Y=
DetailFrameP2OnCommand=
#----#
NumStepsNumberP1X=
NumStepsNumberP1Y=
NumStepsNumberP1OnCommand=visible,false
NumStepsNumberP2X=
NumStepsNumberP2Y=
NumStepsNumberP2OnCommand=visible,false
#--#
JumpsNumberP1X=SCREEN_CENTER_X-28
JumpsNumberP1Y=SCREEN_CENTER_Y-142+13*0
JumpsNumberP1OnCommand=zoomx,0.45;zoomy,0.4;diffuse,PlayerColor(PLAYER_1);shadowlength,0;horizalign,right;diffusealpha,0;sleep,3;linear,0.8;diffusealpha,1
JumpsNumberP1OffCommand=finishtweening;linear,0.2;diffusealpha,0
JumpsNumberP2X=SCREEN_CENTER_X+94
JumpsNumberP2Y=SCREEN_CENTER_Y-142+13*0
JumpsNumberP2OnCommand=zoomx,0.45;zoomy,0.4;diffuse,PlayerColor(PLAYER_2);shadowlength,0;horizalign,right;diffusealpha,0;sleep,3;linear,0.8;diffusealpha,1
JumpsNumberP2OffCommand=finishtweening;linear,0.2;diffusealpha,0
#--#
HoldsNumberP1X=SCREEN_CENTER_X-28
HoldsNumberP1Y=SCREEN_CENTER_Y-142+13*1
HoldsNumberP1OnCommand=zoomx,0.45;zoomy,0.4;diffuse,PlayerColor(PLAYER_1);shadowlength,0;horizalign,right;diffusealpha,0;sleep,3.2;linear,0.8;diffusealpha,1
HoldsNumberP1OffCommand=finishtweening;linear,0.2;diffusealpha,0
HoldsNumberP2X=SCREEN_CENTER_X+94
HoldsNumberP2Y=SCREEN_CENTER_Y-142+13*1
HoldsNumberP2OnCommand=zoomx,0.45;zoomy,0.4;diffuse,PlayerColor(PLAYER_2);shadowlength,0;horizalign,right;diffusealpha,0;sleep,3.2;linear,0.8;diffusealpha,1
HoldsNumberP2OffCommand=finishtweening;linear,0.2;diffusealpha,0
#--#
MinesNumberP1X=SCREEN_CENTER_X-28
MinesNumberP1Y=SCREEN_CENTER_Y-142+13*2
MinesNumberP1OnCommand=zoomx,0.45;zoomy,0.4;diffuse,PlayerColor(PLAYER_1);shadowlength,0;horizalign,right;diffusealpha,0;sleep,3.4;linear,0.8;diffusealpha,1
MinesNumberP1OffCommand=finishtweening;linear,0.2;diffusealpha,0
MinesNumberP2X=SCREEN_CENTER_X+94
MinesNumberP2Y=SCREEN_CENTER_Y-142+13*2
MinesNumberP2OnCommand=zoomx,0.45;zoomy,0.4;diffuse,PlayerColor(PLAYER_2);shadowlength,0;horizalign,right;diffusealpha,0;sleep,3.4;linear,0.8;diffusealpha,1
MinesNumberP2OffCommand=finishtweening;linear,0.2;diffusealpha,0
#--#
HandsNumberP1X=SCREEN_CENTER_X-28
HandsNumberP1Y=SCREEN_CENTER_Y-142+13*3
HandsNumberP1OnCommand=zoomx,0.45;zoomy,0.4;diffuse,PlayerColor(PLAYER_1);shadowlength,0;horizalign,right;diffusealpha,0;sleep,3.6;linear,0.8;diffusealpha,1
HandsNumberP1OffCommand=finishtweening;linear,0.2;diffusealpha,0
HandsNumberP2X=SCREEN_CENTER_X+94
HandsNumberP2Y=SCREEN_CENTER_Y-142+13*3
HandsNumberP2OnCommand=zoomx,0.45;zoomy,0.4;diffuse,PlayerColor(PLAYER_2);shadowlength,0;horizalign,right;diffusealpha,0;sleep,3.6;linear,0.8;diffusealpha,1
HandsNumberP2OffCommand=finishtweening;linear,0.2;diffusealpha,0
#--#
RollsNumberP1X=SCREEN_CENTER_X-28
RollsNumberP1Y=SCREEN_CENTER_Y-142+13*4
RollsNumberP1OnCommand=zoomx,0.45;zoomy,0.4;diffuse,PlayerColor(PLAYER_1);shadowlength,0;horizalign,right;diffusealpha,0;sleep,3.8;linear,0.8;diffusealpha,1
RollsNumberP1OffCommand=finishtweening;linear,0.2;diffusealpha,0
RollsNumberP2X=SCREEN_CENTER_X+94
RollsNumberP2Y=SCREEN_CENTER_Y-142+13*4
RollsNumberP2OnCommand=zoomx,0.45;zoomy,0.4;diffuse,PlayerColor(PLAYER_2);shadowlength,0;horizalign,right;diffusealpha,0;sleep,3.8;linear,0.8;diffusealpha,1
RollsNumberP2OffCommand=finishtweening;linear,0.2;diffusealpha,0
# no, wolfman, nobody cares about lifts or fakes
LiftsNumberP1X=
LiftsNumberP1Y=
LiftsNumberP1OnCommand=visible,false
LiftsNumberP2X=
LiftsNumberP2Y=
LiftsNumberP2OnCommand=visible,false
#--#
FakesNumberP1X=
FakesNumberP1Y=
FakesNumberP1OnCommand=visible,false
FakesNumberP2X=
FakesNumberP2Y=
FakesNumberP2OnCommand=visible,false

PlayerOptionsP1X=SCREEN_CENTER_X-64
PlayerOptionsP1Y=SCREEN_CENTER_Y-35
PlayerOptionsP1OnCommand=wrapwidthpixels,150;zoom,0.4;draworder,101;zoom,0.4;shadowlength,2;diffusealpha,0;sleep,3;linear,0.8;diffusealpha,1
PlayerOptionsP1OffCommand=finishtweening;linear,0.2;diffusealpha,0
PlayerOptionsP2X=SCREEN_CENTER_X+64
PlayerOptionsP2Y=SCREEN_CENTER_Y-35
PlayerOptionsP2OnCommand=wrapwidthpixels,150;zoom,0.4;draworder,101;shadowlength,2;diffusealpha,0;sleep,3;linear,0.8;diffusealpha,1
PlayerOptionsP2OffCommand=finishtweening;linear,0.2;diffusealpha,0

ShowPointsArea=true
PercentFrameP1X=
PercentFrameP1Y=
PercentFrameP1OnCommand=visible,false
PercentFrameP1OffCommand=
PercentFrameP2X=
PercentFrameP2Y=
PercentFrameP2OnCommand=visible,false
PercentFrameP2OffCommand=

ShowStepsDisplay=true
#difficultyoffset;
StepsDisplayP1X=SCREEN_CENTER_X-242+EvalX()
StepsDisplayP1Y=SCREEN_CENTER_Y+10
StepsDisplayP1OnCommand=addx,-SCREEN_WIDTH/1;sleep,3;decelerate,0.3;addx,SCREEN_WIDTH/1
StepsDisplayP1OffCommand=accelerate,0.3;addx,-SCREEN_WIDTH/1
StepsDisplayP2X=SCREEN_CENTER_X+242+EvalX()
StepsDisplayP2Y=SCREEN_CENTER_Y+10
StepsDisplayP2OnCommand=addx,SCREEN_WIDTH/1;sleep,3;decelerate,0.3;addx,-SCREEN_WIDTH/1
StepsDisplayP2OffCommand=accelerate,0.3;addx,SCREEN_WIDTH/1

PercentP1X=SCREEN_CENTER_X-200+EvalX()
PercentP1Y=SCREEN_CENTER_Y+52
PercentP1OnCommand=diffuse,PlayerColor(PLAYER_1);addx,-EvalTweenDistance();sleep,3;decelerate,0.3;addx,EvalTweenDistance()
PercentP1OffCommand=accelerate,0.3;addx,-EvalTweenDistance()
PercentP2X=SCREEN_CENTER_X+200+EvalX()
PercentP2Y=SCREEN_CENTER_Y+52
PercentP2OnCommand=diffuse,PlayerColor(PLAYER_2);addx,EvalTweenDistance();sleep,3;decelerate,0.3;addx,-EvalTweenDistance()
PercentP2OffCommand=accelerate,0.3;addx,EvalTweenDistance()

# record text
MachineRecordP1X=SCREEN_CENTER_X-200+EvalX()
MachineRecordP1Y=SCREEN_CENTER_Y+90
MachineRecordP1OnCommand=zoomx,.6;zoomy,.5;shadowlength,2;cropright,1;sleep,3;linear,.3;cropright,0;diffuseshift;effectcolor1,color("0.5,0.5,0.5,1")
MachineRecordP1OffCommand=accelerate,0.3;addx,-EvalTweenDistance()
MachineRecordP2X=SCREEN_CENTER_X+200+EvalX()
MachineRecordP2Y=SCREEN_CENTER_Y+90
MachineRecordP2OnCommand=zoomx,.6;zoomy,.5;shadowlength,2;cropleft,1;sleep,3;linear,.3;cropleft,0;diffuseshift;effectcolor1,color("0.5,0.5,0.5,1")
MachineRecordP2OffCommand=accelerate,0.3;addx,EvalTweenDistance()
#--#
PersonalRecordP1X=SCREEN_CENTER_X-200+EvalX()
PersonalRecordP1Y=SCREEN_CENTER_Y+78
PersonalRecordP1OnCommand=shadowlength,2;cropright,1;sleep,3;linear,.3;cropright,0;diffuseshift;effectcolor1,color("0.5,0.5,0.5,1")
PersonalRecordP1OffCommand=accelerate,0.3;addx,-EvalTweenDistance()
PersonalRecordP2X=SCREEN_CENTER_X+200+EvalX()
PersonalRecordP2Y=SCREEN_CENTER_Y+78
PersonalRecordP2OnCommand=shadowlength,2;cropleft,1;sleep,3;linear,.3;cropleft,0;diffuseshift;effectcolor1,color("0.5,0.5,0.5,1")
PersonalRecordP2OffCommand=accelerate,0.3;addx,EvalTweenDistance()

ShowPeakComboAward=true
PeakComboAwardP1X=SCREEN_CENTER_X-292
PeakComboAwardP1Y=SCREEN_CENTER_Y+162
#zoom,.4;
PeakComboAwardP1OnCommand=draworder,110;addx,-EvalTweenDistance();sleep,3;decelerate,0.3;addx,EvalTweenDistance()
PeakComboAwardP1OffCommand=accelerate,.3;addx,-EvalTweenDistance()
PeakComboAwardP2X=SCREEN_CENTER_X+111
PeakComboAwardP2Y=SCREEN_CENTER_Y+162
#zoom,.4;
PeakComboAwardP2OnCommand=draworder,110;addx,EvalTweenDistance();sleep,3;decelerate,0.3;addx,-EvalTweenDistance()
PeakComboAwardP2OffCommand=accelerate,.3;addx,EvalTweenDistance()

ShowStageAward=true
StageAwardP1X=SCREEN_CENTER_X-110
StageAwardP1Y=SCREEN_CENTER_Y+162
StageAwardP1OnCommand=draworder,110;addx,-EvalTweenDistance();sleep,3;decelerate,0.3;addx,EvalTweenDistance()
StageAwardP1OffCommand=accelerate,.3;addx,-EvalTweenDistance()
StageAwardP2X=SCREEN_CENTER_X+291
StageAwardP2Y=SCREEN_CENTER_Y+162
StageAwardP2OnCommand=draworder,110;zoom,.4;addx,EvalTweenDistance();sleep,3;decelerate,0.3;addx,-EvalTweenDistance()
StageAwardP2OffCommand=accelerate,.3;addx,EvalTweenDistance()

[ScreenEvaluation Percent]
PercentP1X=0
PercentP1Y=0
PercentP1OnCommand=shadowlength,0
PercentP1OffCommand=
PercentP2X=0
PercentP2Y=0
PercentP2OnCommand=shadowlength,0
PercentP2OffCommand=
PercentRemainderP1X=0
PercentRemainderP1Y=0
PercentRemainderP1OnCommand=horizalign,left;vertalign,bottom;zoom,0.5;shadowlength,0
PercentRemainderP1OffCommand=sleep,0.8;accelerate,0.3;addx,-SCREEN_WIDTH/2
PercentRemainderP2X=0
PercentRemainderP2Y=0
PercentRemainderP2OnCommand=horizalign,left;vertalign,bottom;zoom,0.5;shadowlength,0
PercentRemainderP2OffCommand=sleep,0.8;accelerate,0.3
PercentUseRemainder=false

[ScreenEvaluationNormal]
Fallback="ScreenEvaluation"
ShowHeader=true

ShowGraphDisplay=true
GraphDisplayP1X=SCREEN_CENTER_X-200
GraphDisplayP1Y=SCREEN_CENTER_Y+140
GraphDisplayP1OnCommand=draworder,1;addx,-EvalTweenDistance();sleep,3;decelerate,0.3;addx,EvalTweenDistance()
GraphDisplayP1OffCommand=accelerate,0.3;addx,-EvalTweenDistance()
GraphDisplayP2X=SCREEN_CENTER_X+200
GraphDisplayP2Y=SCREEN_CENTER_Y+140
GraphDisplayP2OnCommand=draworder,1;addx,EvalTweenDistance();sleep,3;decelerate,0.3;addx,-EvalTweenDistance()
GraphDisplayP2OffCommand=accelerate,0.3;addx,EvalTweenDistance()

ShowComboGraph=true
ComboGraphP1X=SCREEN_CENTER_X-200
ComboGraphP1Y=SCREEN_CENTER_Y+186
ComboGraphP1OnCommand=ztest,true;draworder,2;addx,-EvalTweenDistance();sleep,3;decelerate,0.3;addx,EvalTweenDistance()
ComboGraphP1OffCommand=accelerate,0.3;addx,-EvalTweenDistance()
ComboGraphP2X=SCREEN_CENTER_X+200
ComboGraphP2Y=SCREEN_CENTER_Y+186
ComboGraphP2OnCommand=ztest,true;draworder,2;addx,EvalTweenDistance();sleep,3;decelerate,0.3;addx,-EvalTweenDistance()
ComboGraphP2OffCommand=accelerate,0.3;addx,EvalTweenDistance()

[StepsDisplayEvaluation]
Fallback="StepsDisplayGameplay"

[GraphDisplay]
BodyWidth=192
BodyHeight=66

[GraphDisplayP1]
Fallback="GraphDisplay"
[GraphDisplayP2]
Fallback="GraphDisplay"

[ComboGraph]
BodyWidth=192

[ComboGraphP1]
Fallback="ComboGraph"

[ComboGraphP2]
Fallback="ComboGraph"

################################################################################
[ScreenOptionsService]
NumRowsShown=9
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y(SCREEN_CENTER_Y-116+28*offsetFromCenter) end

OptionRowNormalMetricsGroup="OptionRowService"

#(1/InsertCredit),(20/ClearCredits),2/ArcadeOptions,(21/CustomSongOptions),
#22/ScreenSettings,(3/Bookkeeping),17/RecordsMenu,4/SystemDiags,(5/MachineUpdate),
#23/ManageData,(10/CenterImage),11/TestInput,12/TestLights,13/MachineTime,
#15/KeyConfig,999/Network
#LineNames="SystemDirection,GameType,ArcadeOptions,TestInput,KeyConfig,999,Profiles,Reload,Credits,MoreOptions"

LineArcadeOptions="gamecommand;screen,ScreenOptionsArcade;name,Arcade Options"
LineProfiles="gamecommand;screen,ScreenOptionsManageProfiles;name,Profiles"
LineTestInput="gamecommand;screen,ScreenTestInput;name,Test Input"
Line999="gamecommand;screen,ScreenNetworkOptions;name,Network Options"

ExplanationTogetherX=SCREEN_CENTER_X-266
ExplanationTogetherY=SCREEN_CENTER_Y+132
ExplanationTogetherOnCommand=zoom,0.5;wrapwidthpixels,1000;vertalign,top;horizalign,left;cropright,1;linear,0.5;cropright,0

[OptionRowService]
TitleX=SCREEN_CENTER_X-270
TitleY=
TitleOnCommand=shadowlength,0;zoom,.5;horizalign,left;
TitleGainFocusCommand=diffuse,color("1,1,1,1");strokecolor,color("0,0,0,1")
TitleLoseFocusCommand=diffuse,color("0.5,0.5,0.5,1");strokecolor,color("0,0,0,1")

[ScreenOptionsServiceChild]
ExplanationTogetherX=SCREEN_CENTER_X-266
ExplanationTogetherY=SCREEN_CENTER_Y+132
ExplanationTogetherOnCommand=zoom,0.5;wrapwidthpixels,1000;vertalign,top;horizalign,left;cropright,1;linear,0.5;cropright,0

LineHighlightP1OnCommand=ztest,true;blend,Blend.Add;diffuseshift;effectcolor1,color("#FFFFFF");effectcolor2,color("#FFFFFF77");diffusealpha,0.5
LineHighlightP1ChangeCommand=
LineHighlightP1ChangeToExitCommand=
LineHighlightP2OnCommand=ztest,true;blend,Blend.Add;diffuseshift;effectcolor1,color("#FFFFFF");effectcolor2,color("#FFFFFF77");diffusealpha,0.5
LineHighlightP2ChangeCommand=
LineHighlightP2ChangeToExitCommand=

[ScreenOptionsManageProfiles]
OptionRowNormalMetricsGroup="OptionRowProfile"
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y(SCREEN_CENTER_Y-116+28*offsetFromCenter) end

ExplanationTogetherX=SCREEN_CENTER_X-266
ExplanationTogetherY=SCREEN_CENTER_Y+132
ExplanationTogetherOnCommand=zoom,0.5;wrapwidthpixels,1000;vertalign,top;horizalign,left;cropright,1;linear,0.5;cropright,0

[OptionRowProfile]
Fallback="OptionRow"
ShowUnderlines=false
TitleX=SCREEN_CENTER_X-176
ItemsStartX=SCREEN_CENTER_X-216
ItemOnCommand=shadowlength,0;zoom,0.65;

[ScreenOptionsArcade]
NextScreen="ScreenOptionsService"
PrevScreen="ScreenOptionsService"

[ScreenTestInput]
NextScreen="ScreenOptionsService"
PrevScreen="ScreenOptionsService"

[ScreenOptionsExtended]
NumRowsShown=9

LineNames="Sync,3,10,11,4,5"

[ScreenMapControllers]
ButtonsToMap="Up,Down,Left,Right,Start,Select,Back"

DevicesX=SCREEN_CENTER_X+280
DevicesY=SCREEN_BOTTOM-102
DevicesOnCommand=zoom,0.4;draworder,5;halign,1;valign,0;
DevicesOffCommand=

LabelP1OnCommand=x,SCREEN_CENTER_X-272;y,-2.5;halign,0;zoom,0.7;shadowlength,1;diffuse,PlayerColor(PLAYER_1)
LabelP1OffCommand=linear,0.5;diffusealpha,0
LabelP2OnCommand=x,SCREEN_CENTER_X+272;y,-2.5;halign,1;zoom,0.7;shadowlength,1;diffuse,PlayerColor(PLAYER_2)
LabelP2OffCommand=linear,0.5;diffusealpha,0

LineScrollerOnCommand=%function(self) self:draworder(-1); self:y(122) self:setsecondsperitem(0) self:SetTransformFromHeight(28) end
LineScrollerOffCommand=
LineHideCommand=visible,false
LineOnCommand=%function(self) self:y(0); self:visible(true); local LeftToRight = math.mod(self.ItemIndex, 2) == 0 and 1 or -1; self:addx(-SCREEN_WIDTH * LeftToRight); end
LineOffCommand=%function(self) local LeftToRight = math.mod(self.ItemIndex, 2) == 0 and 1 or -1; self:stoptweening() self:accelerate(0.3); self:addx(SCREEN_WIDTH * LeftToRight); self:queuecommand('Hide') end

MappedToP1S1Command=x,SCREEN_CENTER_X-244
MappedToP1S2Command=x,SCREEN_CENTER_X-180
MappedToP1S3Command=x,SCREEN_CENTER_X-116

PrimaryOnCommand=x,SCREEN_CENTER_X-36;zoom,0.5;shadowlength,1;ztest,true
SecondaryOnCommand=x,SCREEN_CENTER_X+26;zoom,0.4;shadowlength,1;ztest,true

MappedToP2S1Command=x,SCREEN_CENTER_X+122
MappedToP2S2Command=x,SCREEN_CENTER_X+186
MappedToP2S3Command=x,SCREEN_CENTER_X+244

MappedToOnCommand=diffuse,color("#808080");shadowlength,0;maxwidth,150;zoom,0.4
MappedToWaitingCommand=diffuse,color("#FF8080");pulse;effectperiod,0.5;effectmagnitude,0.8,1.3,0
MappedToMappedInputCommand=diffuse,color("#808080");diffuseshift;effectcolor2,color("#808080");effectcolor1,color("#FFFFFF")
MappedToGainFocusCommand=diffuse,color("#808080");diffuseshift;effectcolor2,color("#808080");effectcolor1,color("#FFFFFF")
MappedToLoseFocusCommand=diffuse,color("#808080");stopeffect

[ScreenGameplaySyncMachine]
ShowStageDisplay=false
LifeP1OnCommand=visible,false
LifeP2OnCommand=visible,false
StepsDisplayP1OnCommand=visible,false
StepsDisplayP2OnCommand=visible,false

[ScreenOptionsTheme]
Fallback="ScreenOptionsServiceChild"
LineNames=""

[ScreenTextEntry]
ShowHeader=false

QuestionX=SCREEN_CENTER_X
QuestionY=SCREEN_CENTER_Y-64
QuestionOnCommand=wrapwidthpixels,600*1.25;zoom,0.75
AnswerOnCommand=shadowlength,0

####
[ScreenOptionsEdit]
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y(SCREEN_CENTER_Y-116+28*offsetFromCenter) end

MoreX=SCREEN_CENTER_X
MoreY=SCREEN_CENTER_Y-4
MoreOnCommand=
MoreExitSelectedP1Command=
MoreExitSelectedP2Command=
MoreExitUnselectedP1Command=
MoreExitUnselectedP2Command=

ExplanationTogetherX=SCREEN_CENTER_X-266
ExplanationTogetherY=SCREEN_CENTER_Y+132
ExplanationTogetherOnCommand=zoom,0.5;wrapwidthpixels,1000;vertalign,top;horizalign,left;cropright,1;linear,0.5;cropright,0

[ScreenEditMenu]
ShowHelpText=true

ExplanationX=SCREEN_CENTER_X
ExplanationY=SCREEN_CENTER_Y+134
ExplanationOnCommand=wrapwidthpixels,900;zoom,0.6;cropright,1;linear,0.5;cropright,0

[EditMenu]
Arrows1X=SCREEN_CENTER_X-200
Arrows2X=SCREEN_CENTER_X+260
ArrowsEnabledCommand=diffuse,color("1,1,1,1")
ArrowsDisabledCommand=diffuse,color("0.4,0.4,0.4,1")

GroupBannerX=SCREEN_CENTER_X+170
GroupBannerY=SCREEN_CENTER_Y-140
GroupBannerOnCommand=scaletoclipped,120,40

SongBannerX=SCREEN_CENTER_X+170
SongBannerY=SCREEN_CENTER_Y-90
SongBannerOnCommand=scaletoclipped,120,40

TextBannerType="TextBannerEditMode"
SongTextBannerX=SCREEN_CENTER_X+80
SongTextBannerY=SCREEN_CENTER_Y-90

StepsDisplayX=SCREEN_CENTER_X+170
StepsDisplayY=SCREEN_CENTER_Y-10
StepsDisplaySourceX=SCREEN_CENTER_X+170
StepsDisplaySourceY=SCREEN_CENTER_Y+50

RowLabelX=WideScale(SCREEN_CENTER_X-240,SCREEN_CENTER_X-372)
LabelOnCommand=zoom,0.6

Row1Y=SCREEN_CENTER_Y-140
Row2Y=SCREEN_CENTER_Y-90
Row3Y=SCREEN_CENTER_Y-40
Row4Y=SCREEN_CENTER_Y-10
Row5Y=SCREEN_CENTER_Y+20
Row6Y=SCREEN_CENTER_Y+50
Row7Y=SCREEN_CENTER_Y+80

Label1X=THEME:GetMetric("EditMenu","RowLabelX")
Label1OnCommand=zoom,0.6;halign,0
Label2X=THEME:GetMetric("EditMenu","RowLabelX")
Label2OnCommand=zoom,0.6;halign,0
Label3X=THEME:GetMetric("EditMenu","RowLabelX")
Label3OnCommand=zoom,0.6;halign,0
Label4X=THEME:GetMetric("EditMenu","RowLabelX")
Label4OnCommand=zoom,0.6;halign,0
Label5X=THEME:GetMetric("EditMenu","RowLabelX")
Label5OnCommand=zoom,0.6;halign,0
Label6X=THEME:GetMetric("EditMenu","RowLabelX")
Label6OnCommand=zoom,0.6;halign,0
Label7X=THEME:GetMetric("EditMenu","RowLabelX")
Label7OnCommand=zoom,0.6;halign,0

Value1X=SCREEN_CENTER_X
Value1OnCommand=zoom,0.6;
Value2X=SCREEN_CENTER_X+20
Value2OnCommand=zoom,0.6;
Value3X=SCREEN_CENTER_X+20
Value3OnCommand=zoom,0.6;
Value4X=SCREEN_CENTER_X+20
Value4OnCommand=zoom,0.6;
Value5X=SCREEN_CENTER_X+20
Value5OnCommand=zoom,0.6;
Value6X=SCREEN_CENTER_X+20
Value6OnCommand=zoom,0.6;
Value7X=SCREEN_CENTER_X+20
Value7OnCommand=zoom,0.6;

[StepsDisplayEdit]
Fallback="StepsDisplay"
# ticks
# meter

[ScreenEdit]
ShowHeader=false

EditHelpX=SCREEN_LEFT+8
EditHelpY=SCREEN_BOTTOM-8
#EditHelpOnCommand=halign,0;valign,1;zoom,0.3;shadowlength,1
EditHelpOnCommand=visible,false

PlayRecordHelpX=SCREEN_LEFT+40
PlayRecordHelpY=SCREEN_BOTTOM-40
PlayRecordHelpOnCommand=horizalign,left;zoom,0.6;shadowlength,2

[ScreenMiniMenu]
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) local indexOffset = itemIndex-(numItems-1)/2; self:y( (SCREEN_CENTER_Y)+(indexOffset*22) ); end

[OptionRowMiniMenu]
TitleOnCommand=halign,0;shadowlength,2;zoom,0.74

ItemsStartX=SCREEN_CENTER_X-160
ItemsEndX=SCREEN_CENTER_X+280
ItemsGapX=14
ItemsLongRowP1X=SCREEN_CENTER_X-60
ItemsLongRowP2X=SCREEN_CENTER_X+100
ItemsLongRowSharedX=SCREEN_CENTER_X+150
ItemOnCommand=zoom,0.5

[ScreenPrompt]
ShowHeader=false

[ScreenJukebox]
ShowStageDisplay=false

################################################################################
[ScreenRecordsMenu]
Class="ScreenOptionsMaster"
Fallback="ScreenOptionsSimpleService"
NextScreen="ScreenTitleMenu"
PrevScreen="ScreenTitleMenu"
AllowOperatorMenuButton=false

LineNames="1,2,3,4,5,6,7,8,9,10"
Line1="gamecommand;name,RecordsSummarySingle;screen,ScreenSummarySingle"
Line2="gamecommand;name,RecordsSummaryDouble;screen,ScreenSummaryDouble"
Line3="gamecommand;name,RecordsGradesSingle;screen,ScreenGradesSingle"
Line4="gamecommand;name,RecordsGradesDouble;screen,ScreenGradesDouble"
Line5="gamecommand;name,RecordsSongsSingle;screen,ScreenRecordsSongsSingle"
Line6="gamecommand;name,RecordsSongsDouble;screen,ScreenRecordsSongsDouble"
Line7="gamecommand;name,RecordsNonstopSingle;screen,ScreenRecordsNonstopSingle"
Line8="gamecommand;name,RecordsNonstopDouble;screen,ScreenRecordsNonstopDouble"
Line9="gamecommand;name,RecordsCoursesSingle;screen,ScreenRecordsSurvivalSingle"
Line10="gamecommand;name,RecordsCoursesDouble;screen,ScreenRecordsSurvivalDouble"

NumRowsShown=9
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y(SCREEN_CENTER_Y-116+28*offsetFromCenter) end

[ScreenRecordSummary]
Fallback="ScreenSelectMaster"
PrevScreen="ScreenRecordsMenu"
TimerSeconds=-1
ChoiceNames="1"
DefaultChoice="1"
Choice1="screen,ScreenRecordsMenu"

[ScreenSummarySingle]
Fallback="ScreenRecordSummary"
[ScreenSummaryDouble]
Fallback="ScreenRecordSummary"

[ScreenGradesSingle]
Fallback="ScreenRecordSummary"
[ScreenGradesDouble]
Fallback="ScreenRecordSummary"

[ScreenRecordScroller]
Class="ScreenHighScores"
Fallback="ScreenWithMenuElements"
NextScreen="ScreenRecordsMenu"
PrevScreen="ScreenRecordsMenu"
TimerSeconds=-1
ForceTimer=false

LightsMode="LightsMode_MenuStartAndDirections"
ResetGameState=false
BackGoesToStartScreen=false
AttractVolume=false

ManualScrolling=true
MaxItemsToShow=1024

ScrollerOnCommand=CenterX;y,SCREEN_CENTER_Y+64;
ScrollerItemTransformFunction=function(self,offset,itemIndex,numItems) self:y(65*offset) end
ScrollerItemsToDraw=7
ScrollerSecondsPerItem=0.15
ScrollerScrolledMessageCommand=finishtweening

[ScreenRecordsSongsSingle]
Fallback="ScreenRecordScroller"
StepsTypesToHide="dance-double,dance-couple,dance-solo"

HighScoresType="HighScoresType_AllSteps"
NumColumns=4
ColumnDifficulty1="Difficulty_Easy"
ColumnDifficulty2="Difficulty_Medium"
ColumnDifficulty3="Difficulty_Hard"
ColumnDifficulty4="Difficulty_Challenge"
ColumnStepsType1="StepsType_Dance_Single"
ColumnStepsType2="StepsType_Dance_Single"
ColumnStepsType3="StepsType_Dance_Single"
ColumnStepsType4="StepsType_Dance_Single"

[ScreenRecordsSongsDouble]
Fallback="ScreenRecordScroller"
StepsTypesToHide="dance-single,dance-couple,dance-solo"

HighScoresType="HighScoresType_AllSteps"
NumColumns=4
ColumnDifficulty1="Difficulty_Easy"
ColumnDifficulty2="Difficulty_Medium"
ColumnDifficulty3="Difficulty_Hard"
ColumnDifficulty4="Difficulty_Challenge"
ColumnStepsType1="StepsType_Dance_Double"
ColumnStepsType2="StepsType_Dance_Double"
ColumnStepsType3="StepsType_Dance_Double"
ColumnStepsType4="StepsType_Dance_Double"

[ScreenRecordsNonstopSingle]
Fallback="ScreenRecordScroller"
StepsTypesToHide="dance-double,dance-couple,dance-solo"

HighScoresType="HighScoresType_NonstopCourses"

NumColumns=2
ColumnDifficulty1="Difficulty_Medium"
ColumnDifficulty2="Difficulty_Hard"
ColumnStepsType1="StepsType_Dance_Single"
ColumnStepsType2="StepsType_Dance_Single"

[ScreenRecordsNonstopDouble]
Fallback="ScreenRecordScroller"
StepsTypesToHide="dance-single,dance-couple,dance-solo"

HighScoresType="HighScoresType_NonstopCourses"

NumColumns=2
ColumnDifficulty1="Difficulty_Medium"
ColumnDifficulty2="Difficulty_Hard"
ColumnStepsType1="StepsType_Dance_Double"
ColumnStepsType2="StepsType_Dance_Double"

[ScreenRecordsSurvivalSingle]
Fallback="ScreenRecordScroller"
StepsTypesToHide="dance-double,dance-couple,dance-solo"

HighScoresType="HighScoresType_SurvivalCourses"

NumColumns=1
ColumnDifficulty1="Difficulty_Medium"
ColumnStepsType1="StepsType_Dance_Single"

[ScreenRecordsSurvivalDouble]
Fallback="ScreenRecordScroller"
StepsTypesToHide="dance-double,dance-couple,dance-solo"

HighScoresType="HighScoresType_SurvivalCourses"

NumColumns=1
ColumnDifficulty1="Difficulty_Medium"
ColumnStepsType1="StepsType_Dance_Single"
